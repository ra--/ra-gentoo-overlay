--- src/named-manager/nm-named-manager.c.bak	2008-04-24 12:29:33.000000000 +0200
+++ src/named-manager/nm-named-manager.c	2008-04-24 12:34:13.000000000 +0200
@@ -31,6 +31,7 @@
 #include <resolv.h>
 #include <sys/socket.h>
 #include <sys/types.h>
+#include <sys/stat.h>
 #include <arpa/inet.h>
 #include <syslog.h>
 #include <glib.h>
@@ -420,6 +421,7 @@
 				     g_strerror (errno));
 		} else {
 			nm_system_update_dns ();
+			chmod(RESOLV_CONF, S_IREAD | S_IWRITE | S_IRGRP | S_IROTH);
 		}
 	}
 
